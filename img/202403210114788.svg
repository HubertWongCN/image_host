<svg id="SvgjsSvg1006" width="653.5" height="510" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1007"><pattern patternUnits="userSpaceOnUse" id="pattern_mark_0" width="300" height="300"><text x="150" y="100" fill="rgba(229,229,229,0.8)" font-size="18" transform="rotate(-45, 150, 150)" style="dominant-baseline: middle; text-anchor: middle;"></text></pattern><pattern patternUnits="userSpaceOnUse" id="pattern_mark_1" width="300" height="300"><text x="150" y="200" fill="rgba(229,229,229,0.8)" font-size="18" transform="rotate(-45, 150, 150)" style="dominant-baseline: middle; text-anchor: middle;"></text></pattern><marker id="SvgjsMarker1041" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1042" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1049" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1050" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1057" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1058" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1067" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1068" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1077" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1078" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1087" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1088" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1097" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1098" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1105" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1106" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker></defs><rect id="svgbackgroundid" width="653.5" height="510" fill="transparent"></rect><rect id="SvgjsRect1009" width="653.5" height="510" fill="url(#pattern_mark_0)"></rect><rect id="SvgjsRect1010" width="653.5" height="510" fill="url(#pattern_mark_1)"></rect><g id="SvgjsG1011" transform="translate(205.5,405)"><path id="SvgjsPath1012" d="M 0 11.666666666666666L 0 68C 0 84 70 84 70 68L 70 11.666666666666666C 70 -3.1818181818181817 0 -3.1818181818181817 0 11.666666666666666ZM 0 11.666666666666666C 0 26.25 70 26.25 70 11.666666666666666C 70 26.25 0 26.25 0 11.666666666666666" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#7985ec"></path><g id="SvgjsG1013"><text id="SvgjsText1014" font-family="&quot;Comic Sans MS&quot;" text-anchor="middle" font-size="13px" width="70px" fill="#ffffff" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Comic Sans MS&quot;" size="13px" weight="700" font-style="" opacity="1" y="12.875" transform="rotate(0)"><tspan id="SvgjsTspan1015" dy="16.25" x="35"><tspan id="SvgjsTspan1016" style=""> </tspan></tspan><tspan id="SvgjsTspan1017" dy="16.25" x="35"><tspan id="SvgjsTspan1018" style="">MySQL</tspan></tspan></text></g></g><g id="SvgjsG1019" transform="translate(191,273)"><path id="SvgjsPath1020" d="M 16.5 0L 99 0C 82.5 0 82.5 70 99 70L 16.5 70C -5.823529411764706 70 -5.823529411764706 0 14.142857142857142 0Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#a7932c"></path><g id="SvgjsG1021"><text id="SvgjsText1022" font-family="&quot;Comic Sans MS&quot;" text-anchor="middle" font-size="13px" width="75px" fill="#ffffff" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Comic Sans MS&quot;" size="13px" weight="700" font-style="" opacity="1" y="24.375" transform="rotate(0)"><tspan id="SvgjsTspan1023" dy="16.25" x="47.4"><tspan id="SvgjsTspan1024" style="">Redis</tspan></tspan></text></g></g><g id="SvgjsG1025" transform="translate(191,141)"><path id="SvgjsPath1026" d="M 0 0L 99 0L 99 70L 0 70L 0 0ZM 16.5 0L 16.5 70M 82.5 0L 82.5 70" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#9e9e9e"></path><g id="SvgjsG1027"><text id="SvgjsText1028" font-family="&quot;Comic Sans MS&quot;" text-anchor="middle" font-size="13px" width="66px" fill="#ffffff" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Comic Sans MS&quot;" size="13px" weight="700" font-style="" opacity="1" y="15.875" transform="rotate(0)"><tspan id="SvgjsTspan1029" dy="16.25" x="49.5"><tspan id="SvgjsTspan1030" style="">Bloom</tspan></tspan><tspan id="SvgjsTspan1031" dy="16.25" x="49.5"><tspan id="SvgjsTspan1032" style="">Filter</tspan></tspan></text></g></g><g id="SvgjsG1033" transform="translate(191,25)"><path id="SvgjsPath1034" d="M 0 4Q 0 0 4 0L 95 0Q 99 0 99 4L 99 50Q 99 54 95 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ed77b6"></path><g id="SvgjsG1035"><text id="SvgjsText1036" font-family="&quot;Comic Sans MS&quot;" text-anchor="middle" font-size="13px" width="79px" fill="#ffffff" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Comic Sans MS&quot;" size="13px" weight="700" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1037" dy="16.25" x="49.5"><tspan id="SvgjsTspan1038" style="">customer</tspan></tspan></text></g></g><g id="SvgjsG1039"><path id="SvgjsPath1040" d="M240.5 79.75L240.5 110L240.5 110L240.5 138.3" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1041)"></path><rect id="SvgjsRect1043" width="47" height="18" x="217" y="98.13629032258063" fill="#ffffff"></rect><text id="SvgjsText1044" font-family="&quot;Comic Sans MS&quot;" text-anchor="middle" font-size="13px" width="47px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="&quot;Comic Sans MS&quot;" size="13px" weight="400" font-style="" opacity="1" y="95.51129032258063" transform="rotate(0)"><tspan id="SvgjsTspan1045" dy="16.25" x="240.5"><tspan id="SvgjsTspan1046" style="">查询key</tspan></tspan></text></g><g id="SvgjsG1047"><path id="SvgjsPath1048" d="M240.5 211.75L240.5 242L240.5 242L240.5 270.3" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1049)"></path><rect id="SvgjsRect1051" width="47" height="18" x="217" y="230.13629032258063" fill="#ffffff"></rect><text id="SvgjsText1052" font-family="&quot;Comic Sans MS&quot;" text-anchor="middle" font-size="13px" width="47px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="&quot;Comic Sans MS&quot;" size="13px" weight="400" font-style="" opacity="1" y="227.51129032258063" transform="rotate(0)"><tspan id="SvgjsTspan1053" dy="16.25" x="240.5"><tspan id="SvgjsTspan1054" style="">存在key</tspan></tspan></text></g><g id="SvgjsG1055"><path id="SvgjsPath1056" d="M240.5 343.75L240.5 374L240.5 374L240.5 402.3" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1057)"></path><rect id="SvgjsRect1059" width="119" height="34" x="181" y="352.2475806451613" fill="#ffffff"></rect><text id="SvgjsText1060" font-family="&quot;Comic Sans MS&quot;" text-anchor="middle" font-size="13px" width="119px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="&quot;Comic Sans MS&quot;" size="13px" weight="400" font-style="" opacity="1" y="349.6225806451613" transform="rotate(0)"><tspan id="SvgjsTspan1061" dy="16.25" x="240.5"><tspan id="SvgjsTspan1062" style="">Redis中不存在该key</tspan></tspan><tspan id="SvgjsTspan1063" dy="16.25" x="240.5"><tspan id="SvgjsTspan1064" style="">去找MySQL</tspan></tspan></text></g><g id="SvgjsG1065"><path id="SvgjsPath1066" d="M190.25 176L161 176L161 66L188.3 66" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1067)"></path><rect id="SvgjsRect1069" width="60" height="34" x="131" y="103.99529411764706" fill="#ffffff"></rect><text id="SvgjsText1070" font-family="&quot;Comic Sans MS&quot;" text-anchor="middle" font-size="13px" width="60px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="&quot;Comic Sans MS&quot;" size="13px" weight="400" font-style="" opacity="1" y="101.37029411764706" transform="rotate(0)"><tspan id="SvgjsTspan1071" dy="16.25" x="161"><tspan id="SvgjsTspan1072" style="">不存在key</tspan></tspan><tspan id="SvgjsTspan1073" dy="16.25" x="161"><tspan id="SvgjsTspan1074" style="">直接返回</tspan></tspan></text></g><g id="SvgjsG1075"><path id="SvgjsPath1076" d="M287.5 295L348.5 295L348.5 62L290.2 62" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1077)"></path><rect id="SvgjsRect1079" width="86" height="34" x="305.5" y="160.08902821316613" fill="#ffffff"></rect><text id="SvgjsText1080" font-family="&quot;Comic Sans MS&quot;" text-anchor="middle" font-size="13px" width="86px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="&quot;Comic Sans MS&quot;" size="13px" weight="400" font-style="" opacity="1" y="157.46402821316613" transform="rotate(0)"><tspan id="SvgjsTspan1081" dy="16.25" x="348.5"><tspan id="SvgjsTspan1082" style="">Redis中存在</tspan></tspan><tspan id="SvgjsTspan1083" dy="16.25" x="348.5"><tspan id="SvgjsTspan1084" style="">key，返回结果</tspan></tspan></text></g><g id="SvgjsG1085"><path id="SvgjsPath1086" d="M276.25 445L348.625 445L348.625 317L287.5 317" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1087)"></path><rect id="SvgjsRect1089" width="85" height="34" x="306.125" y="363.2534263959391" fill="#ffffff"></rect><text id="SvgjsText1090" font-family="&quot;Comic Sans MS&quot;" text-anchor="middle" font-size="13px" width="85px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="&quot;Comic Sans MS&quot;" size="13px" weight="400" font-style="" opacity="1" y="360.6284263959391" transform="rotate(0)"><tspan id="SvgjsTspan1091" dy="16.25" x="348.625"><tspan id="SvgjsTspan1092" style="">MySQL有数据</tspan></tspan><tspan id="SvgjsTspan1093" dy="16.25" x="348.625"><tspan id="SvgjsTspan1094" style="">更新Redis</tspan></tspan></text></g><g id="SvgjsG1095"><path id="SvgjsPath1096" d="M276.25 445L405.5 445L405.5 36L292.2 36" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1097)"></path><rect id="SvgjsRect1099" width="52" height="18" x="379.5" y="231.01977099236643" fill="#ffffff"></rect><text id="SvgjsText1100" font-family="&quot;Comic Sans MS&quot;" text-anchor="middle" font-size="13px" width="52px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="&quot;Comic Sans MS&quot;" size="13px" weight="400" font-style="" opacity="1" y="228.39477099236643" transform="rotate(0)"><tspan id="SvgjsTspan1101" dy="16.25" x="405.5"><tspan id="SvgjsTspan1102" style="">返回结果</tspan></tspan></text></g><g id="SvgjsG1103"><path id="SvgjsPath1104" d="M204.75 445L98.5 445L98.5 37L188.8 37" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1105)"></path><rect id="SvgjsRect1107" width="145" height="18" x="26" y="234.00904605263162" fill="#ffffff"></rect><text id="SvgjsText1108" font-family="&quot;Comic Sans MS&quot;" text-anchor="middle" font-size="13px" width="145px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="&quot;Comic Sans MS&quot;" size="13px" weight="400" font-style="" opacity="1" y="231.38404605263162" transform="rotate(0)"><tspan id="SvgjsTspan1109" dy="16.25" x="98.5"><tspan id="SvgjsTspan1110" style="">MySQL没数据，返回null</tspan></tspan></text></g><g id="SvgjsG1111" transform="translate(432.5,37)"><path id="SvgjsPath1112" d="M 0 0L 180 0L 196 16L 196 193L 0 193L 0 0Z" stroke="none" fill-opacity="1" fill="#fff7bc"></path><path id="SvgjsPath1113" d="M 180 0L 180 16L 196 16Z" stroke="none" fill-opacity="1" fill="#e4d089"></path><path id="SvgjsPath1114" d="M 0 0L 180 0L 196 16L 196 193L 0 193L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1115"><text id="SvgjsText1116" font-family="&quot;Comic Sans MS&quot;" text-anchor="start" font-size="13px" width="176px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="&quot;Comic Sans MS&quot;" size="13px" weight="400" font-style="" opacity="1" y="4.375" transform="rotate(0)"><tspan id="SvgjsTspan1117" dy="16.25" x="10"><tspan id="SvgjsTspan1118" style="font-weight: bold;">让布隆过滤器作白名单使用：</tspan></tspan><tspan id="SvgjsTspan1119" dy="16.25" x="10"><tspan id="SvgjsTspan1120" style=""> </tspan></tspan><tspan id="SvgjsTspan1121" dy="16.25" x="10"><tspan id="SvgjsTspan1122" style="">白名单里面有的才让通过，没</tspan></tspan><tspan id="SvgjsTspan1123" dy="16.25" x="10"><tspan id="SvgjsTspan1124" style="">有直接返回。但是存在误判，</tspan></tspan><tspan id="SvgjsTspan1125" dy="16.25" x="10"><tspan id="SvgjsTspan1126" style="">由于误判率很小，1%的误判请</tspan></tspan><tspan id="SvgjsTspan1127" dy="16.25" x="10"><tspan id="SvgjsTspan1128" style="">求可能打到MySQL，可以接受</tspan></tspan><tspan id="SvgjsTspan1129" dy="16.25" x="10"><tspan id="SvgjsTspan1130" style=""> </tspan></tspan><tspan id="SvgjsTspan1131" dy="16.25" x="10"><tspan id="SvgjsTspan1132" style="font-weight: bold;">使用注意：</tspan></tspan><tspan id="SvgjsTspan1133" dy="16.25" x="10"><tspan id="SvgjsTspan1134" style=""> </tspan></tspan><tspan id="SvgjsTspan1135" dy="16.25" x="10"><tspan id="SvgjsTspan1136" style="">所有key都需要往Redis和</tspan></tspan><tspan id="SvgjsTspan1137" dy="16.25" x="10"><tspan id="SvgjsTspan1138" style="">BloomFilter里面放入</tspan></tspan></text></g></g></svg>