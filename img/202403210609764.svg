<svg id="SvgjsSvg1006" width="454" height="377" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1007"><pattern patternUnits="userSpaceOnUse" id="pattern_mark_0" width="300" height="300"><text x="150" y="100" fill="rgba(229,229,229,0.8)" font-size="18" transform="rotate(-45, 150, 150)" style="dominant-baseline: middle; text-anchor: middle;"></text></pattern><pattern patternUnits="userSpaceOnUse" id="pattern_mark_1" width="300" height="300"><text x="150" y="200" fill="rgba(229,229,229,0.8)" font-size="18" transform="rotate(-45, 150, 150)" style="dominant-baseline: middle; text-anchor: middle;"></text></pattern><marker id="SvgjsMarker1030" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1031" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1038" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1039" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker></defs><rect id="svgbackgroundid" width="454" height="377" fill="transparent"></rect><rect id="SvgjsRect1009" width="454" height="377" fill="url(#pattern_mark_0)"></rect><rect id="SvgjsRect1010" width="454" height="377" fill="url(#pattern_mark_1)"></rect><g id="SvgjsG1011" transform="translate(209.5,25)"><path id="SvgjsPath1012" d="M 11.666666666666666 6.25C 11.666666666666666 -2.083333333333333 23.333333333333332 -2.083333333333333 23.333333333333332 6.25C 23.333333333333332 14.583333333333334 11.666666666666666 14.583333333333334 11.666666666666666 6.25M 17.5 12.5L 17.5 37.5M 17.5 37.5L 2.9166666666666665 50M 17.5 37.5L 32.08333333333333 50M 0 25L 35 25" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><path id="SvgjsPath1013" d="M 0 0L 35 0L 35 50L 0 50Z" stroke="none" fill="none"></path><g id="SvgjsG1014"><text id="SvgjsText1015" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="75px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="54.375" transform="rotate(0)"></text></g></g><g id="SvgjsG1016" transform="translate(76.5,142)"><path id="SvgjsPath1017" d="M 15 0L 88.33333333333333 0C 103.18181818181819 0 103.18181818181819 70 88.33333333333333 70L 15 70C -5 70 -5 0 15 0ZM 88.33333333333333 0C 73.75 0 73.75 70 88.33333333333333 70C 73.75 70 73.75 0 88.33333333333333 0" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1018"><text id="SvgjsText1019" font-family="微软雅黑" text-anchor="middle" font-size="15px" width="80px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="15px" weight="700" font-style="" opacity="1" y="22.625" transform="rotate(0)"><tspan id="SvgjsTspan1020" dy="18.75" x="40"><tspan id="SvgjsTspan1021" style="">从缓存B</tspan></tspan></text></g></g><g id="SvgjsG1022" transform="translate(276.5,142)"><path id="SvgjsPath1023" d="M 15 0L 88.33333333333333 0C 103.18181818181819 0 103.18181818181819 70 88.33333333333333 70L 15 70C -5 70 -5 0 15 0ZM 88.33333333333333 0C 73.75 0 73.75 70 88.33333333333333 70C 73.75 70 73.75 0 88.33333333333333 0" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1024"><text id="SvgjsText1025" font-family="微软雅黑" text-anchor="middle" font-size="15px" width="80px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="15px" weight="700" font-style="" opacity="1" y="22.625" transform="rotate(0)"><tspan id="SvgjsTspan1026" dy="18.75" x="40"><tspan id="SvgjsTspan1027" style="">从缓存A</tspan></tspan></text></g></g><g id="SvgjsG1028"><path id="SvgjsPath1029" d="M226.3759622792466 75.41602514716891L128.74653579471217 140.50230947019188" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1030)"></path><rect id="SvgjsRect1032" width="52" height="18" x="147.80627109526648" y="101.46248593648897" fill="#ffffff"></rect><text id="SvgjsText1033" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="52px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="98.83748593648897" transform="rotate(0)"><tspan id="SvgjsTspan1034" dy="16.25" x="173.80627109526648"><tspan id="SvgjsTspan1035" style="">定时更新</tspan></tspan></text></g><g id="SvgjsG1036"><path id="SvgjsPath1037" d="M227.6221072535268 75.41890639182205L324.2604138873036 140.4919369894406" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1038)"></path><rect id="SvgjsRect1040" width="52" height="18" x="250.43572660067468" y="99.28837871603218" fill="#ffffff"></rect><text id="SvgjsText1041" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="52px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="96.66337871603218" transform="rotate(0)"><tspan id="SvgjsTspan1042" dy="16.25" x="276.4357266006747"><tspan id="SvgjsTspan1043" style="">定时更新</tspan></tspan></text></g><g id="SvgjsG1044" transform="translate(25,237)"><path id="SvgjsPath1045" d="M 0 0L 388 0L 404 16L 404 115L 0 115L 0 0Z" stroke="none" fill-opacity="1" fill="#fff7bc"></path><path id="SvgjsPath1046" d="M 388 0L 388 16L 404 16Z" stroke="none" fill-opacity="1" fill="#e4d089"></path><path id="SvgjsPath1047" d="M 0 0L 388 0L 404 16L 404 115L 0 115L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1048"><text id="SvgjsText1049" font-family="微软雅黑" text-anchor="start" font-size="13px" width="384px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="-2.125" transform="rotate(0)"><tspan id="SvgjsTspan1050" dy="16.25" x="10"><tspan id="SvgjsTspan1051" style="fill: rgb(167, 147, 44);font-weight: bold;">如何解决缓存击穿</tspan></tspan><tspan id="SvgjsTspan1052" dy="16.25" x="10"><tspan id="SvgjsTspan1053" style="fill: rgb(0, 0, 0);">1. 新建</tspan></tspan><tspan id="SvgjsTspan1054" dy="16.25" x="10"><tspan id="SvgjsTspan1055" style="fill: rgb(0, 0, 0);">开辟两块内存，主A从B，</tspan><tspan id="SvgjsTspan1056" style="fill: rgb(167, 147, 44);text-decoration: line-through;">先更新B再更新A，</tspan><tspan id="SvgjsTspan1057" style="fill: rgb(167, 147, 44);">先更新A再更新B</tspan><tspan id="SvgjsTspan1058" style="fill: rgb(0, 0, 0);">，严</tspan></tspan><tspan id="SvgjsTspan1059" dy="16.25" x="10"><tspan id="SvgjsTspan1060" style="fill: rgb(0, 0, 0);">格按照这个顺序</tspan></tspan><tspan id="SvgjsTspan1061" dy="16.25" x="10"><tspan id="SvgjsTspan1062" style=""> </tspan></tspan><tspan id="SvgjsTspan1063" dy="16.25" x="10"><tspan id="SvgjsTspan1064" style="fill: rgb(0, 0, 0);">2. 查询</tspan></tspan><tspan id="SvgjsTspan1065" dy="16.25" x="10"><tspan id="SvgjsTspan1066" style="fill: rgb(0, 0, 0);">先查询主缓存A，如果A没有(消失或者失效了)再查询缓存B</tspan></tspan></text></g></g></svg>