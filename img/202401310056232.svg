<svg id="SvgjsSvg1006" width="995" height="530" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1007"><pattern patternUnits="userSpaceOnUse" id="pattern_mark_0" width="300" height="300"><text x="150" y="100" fill="rgba(229,229,229,0.8)" font-size="18" transform="rotate(-45, 150, 150)" style="dominant-baseline: middle; text-anchor: middle;"></text></pattern><pattern patternUnits="userSpaceOnUse" id="pattern_mark_1" width="300" height="300"><text x="150" y="200" fill="rgba(229,229,229,0.8)" font-size="18" transform="rotate(-45, 150, 150)" style="dominant-baseline: middle; text-anchor: middle;"></text></pattern><marker id="SvgjsMarker1104" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1105" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1108" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1109" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1112" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1113" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1116" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1117" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1120" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1121" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker></defs><rect id="svgbackgroundid" width="995" height="530" fill="transparent"></rect><rect id="SvgjsRect1009" width="995" height="530" fill="url(#pattern_mark_0)"></rect><rect id="SvgjsRect1010" width="995" height="530" fill="url(#pattern_mark_1)"></rect><g id="SvgjsG1011" transform="translate(25,199)"><path id="SvgjsPath1012" d="M 0 0L 278 0L 278 120L 0 120Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#f4c18f"></path><g id="SvgjsG1013"><text id="SvgjsText1014" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="258px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="17.375" transform="rotate(0)"><tspan id="SvgjsTspan1015" dy="16.25" x="139"><tspan id="SvgjsTspan1016" style="font-weight: bold;">Zookeeper 集群</tspan></tspan><tspan id="SvgjsTspan1017" dy="16.25" x="139"><tspan id="SvgjsTspan1018" style=""> </tspan></tspan><tspan id="SvgjsTspan1019" dy="16.25" x="139"><tspan id="SvgjsTspan1020" style="">/servers/server1 hadoop101 80 nodes</tspan></tspan><tspan id="SvgjsTspan1021" dy="16.25" x="139"><tspan id="SvgjsTspan1022" style="text-decoration: line-through;">/server2 hadoop102 90 nodes</tspan></tspan><tspan id="SvgjsTspan1023" dy="16.25" x="139"><tspan id="SvgjsTspan1024" style="">/server3 hadoop103 95 nodes</tspan></tspan></text></g></g><g id="SvgjsG1025" transform="translate(419,27)"><path id="SvgjsPath1026" d="M 0 0L 88 0L 88 114L 0 114Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#a6aef3"></path><g id="SvgjsG1027"><text id="SvgjsText1028" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="68px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="46.375" transform="rotate(0)"></text></g></g><g id="SvgjsG1029" transform="translate(427,77)"><path id="SvgjsPath1030" d="M 0 0L 72 0L 72 52L 0 52Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1031"><text id="SvgjsText1032" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="52px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="15.375" transform="rotate(0)"><tspan id="SvgjsTspan1033" dy="16.25" x="36"><tspan id="SvgjsTspan1034" style="">业务功能</tspan></tspan></text></g></g><g id="SvgjsG1035" transform="translate(413,25)"><path id="SvgjsPath1036" d="M 0 0L 100 0L 100 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1037"><text id="SvgjsText1038" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="100px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="9.375" transform="rotate(0)"><tspan id="SvgjsTspan1039" dy="16.25" x="50"><tspan id="SvgjsTspan1040" style="font-weight: bold;">服务器1</tspan></tspan></text></g></g><g id="SvgjsG1041" transform="translate(608,28)"><path id="SvgjsPath1042" d="M 0 0L 88 0L 88 114L 0 114Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#a6aef3"></path><g id="SvgjsG1043"><text id="SvgjsText1044" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="68px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="46.375" transform="rotate(0)"></text></g></g><g id="SvgjsG1045" transform="translate(616,78)"><path id="SvgjsPath1046" d="M 0 0L 72 0L 72 52L 0 52Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1047"><text id="SvgjsText1048" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="52px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="15.375" transform="rotate(0)"><tspan id="SvgjsTspan1049" dy="16.25" x="36"><tspan id="SvgjsTspan1050" style="">业务功能</tspan></tspan></text></g></g><g id="SvgjsG1051" transform="translate(602,26)"><path id="SvgjsPath1052" d="M 0 0L 100 0L 100 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1053"><text id="SvgjsText1054" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="100px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="9.375" transform="rotate(0)"><tspan id="SvgjsTspan1055" dy="16.25" x="50"><tspan id="SvgjsTspan1056" style="font-weight: bold;">服务器2</tspan></tspan></text></g></g><g id="SvgjsG1057" transform="translate(797,28)"><path id="SvgjsPath1058" d="M 0 0L 88 0L 88 114L 0 114Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#a6aef3"></path><g id="SvgjsG1059"><text id="SvgjsText1060" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="68px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="46.375" transform="rotate(0)"></text></g></g><g id="SvgjsG1061" transform="translate(805,78)"><path id="SvgjsPath1062" d="M 0 0L 72 0L 72 52L 0 52Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1063"><text id="SvgjsText1064" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="52px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="15.375" transform="rotate(0)"><tspan id="SvgjsTspan1065" dy="16.25" x="36"><tspan id="SvgjsTspan1066" style="">业务功能</tspan></tspan></text></g></g><g id="SvgjsG1067" transform="translate(791,26)"><path id="SvgjsPath1068" d="M 0 0L 100 0L 100 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1069"><text id="SvgjsText1070" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="100px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="9.375" transform="rotate(0)"><tspan id="SvgjsTspan1071" dy="16.25" x="50"><tspan id="SvgjsTspan1072" style="font-weight: bold;">服务器3</tspan></tspan></text></g></g><g id="SvgjsG1073" transform="translate(583,33)"><path id="SvgjsPath1074" d="M 0 0L 138 104M 138 0L 0 104" stroke="rgba(162,55,53,1)" stroke-width="4" fill="none"></path><path id="SvgjsPath1075" d="M 0 0L 138 0L 138 104L 0 104Z" stroke="none" fill="none"></path></g><g id="SvgjsG1076" transform="translate(380,390)"><path id="SvgjsPath1077" d="M 0 57.5C 0 -19.166666666666668 207 -19.166666666666668 207 57.5C 207 134.16666666666666 0 134.16666666666666 0 57.5Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#f1e4a2"></path><g id="SvgjsG1078"><text id="SvgjsText1079" font-family="微软雅黑" text-anchor="start" font-size="13px" width="187px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="14.875" transform="rotate(0)"><tspan id="SvgjsTspan1080" dy="16.25" x="10"><tspan id="SvgjsTspan1081" style="">      客户端1</tspan></tspan><tspan id="SvgjsTspan1082" dy="16.25" x="10"><tspan id="SvgjsTspan1083" style="">      5 process() {</tspan></tspan><tspan id="SvgjsTspan1084" dy="16.25" x="10"><tspan id="SvgjsTspan1085" style="">            重新再去获取服务器</tspan></tspan><tspan id="SvgjsTspan1086" dy="16.25" x="10"><tspan id="SvgjsTspan1087" style="">            列表，并注册监听</tspan></tspan><tspan id="SvgjsTspan1088" dy="16.25" x="10"><tspan id="SvgjsTspan1089" style="">      }</tspan></tspan></text></g></g><g id="SvgjsG1090" transform="translate(680,429)"><path id="SvgjsPath1091" d="M 0 26C 0 -8.666666666666666 117 -8.666666666666666 117 26C 117 60.666666666666664 0 60.666666666666664 0 26Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#f1e4a2"></path><g id="SvgjsG1092"><text id="SvgjsText1093" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="97px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="15.375" transform="rotate(0)"><tspan id="SvgjsTspan1094" dy="16.25" x="58.5"><tspan id="SvgjsTspan1095" style="">客户端2</tspan></tspan></text></g></g><g id="SvgjsG1096" transform="translate(853,429)"><path id="SvgjsPath1097" d="M 0 26C 0 -8.666666666666666 117 -8.666666666666666 117 26C 117 60.666666666666664 0 60.666666666666664 0 26Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#f1e4a2"></path><g id="SvgjsG1098"><text id="SvgjsText1099" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="97px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="15.375" transform="rotate(0)"><tspan id="SvgjsTspan1100" dy="16.25" x="58.5"><tspan id="SvgjsTspan1101" style="">客户端3</tspan></tspan></text></g></g><g id="SvgjsG1102"><path id="SvgjsPath1103" d="M462.3963978184571 141.44515660888794L305.1729678535546 257.39743620800346" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1104)"></path></g><g id="SvgjsG1106"><path id="SvgjsPath1107" d="M651.2888960861495 142.23839300263754L305.55997408986167 258.14178519050483" stroke-dasharray="8,5" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1108)"></path></g><g id="SvgjsG1110"><path id="SvgjsPath1111" d="M840.2671300235708 142.15937878669558L305.6383319151454 258.42623636789585" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1112)"></path></g><g id="SvgjsG1114"><path id="SvgjsPath1115" d="M164.6445633262623 319.3834554973366L377.6795720254557 446.1195602095882" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1116)"></path></g><g id="SvgjsG1118"><path id="SvgjsPath1119" d="M482.7678597048621 389.837302156636L166.63570506249667 319.5857122361104" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1120)"></path></g><g id="SvgjsG1122"><path id="SvgjsPath1123" d="M362 289L660.5 289L660.5 289L959 289" stroke="#323232" stroke-width="1.5" fill="none"></path></g><g id="SvgjsG1124" transform="translate(635,177)"><path id="SvgjsPath1125" d="M 0 0L 174 0L 174 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1126"><text id="SvgjsText1127" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="174px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="1.375" transform="rotate(0)"><tspan id="SvgjsTspan1128" dy="16.25" x="87"><tspan id="SvgjsTspan1129" style="font-weight: bold;">1. 服务端启动时去注册信</tspan></tspan><tspan id="SvgjsTspan1130" dy="16.25" x="87"><tspan id="SvgjsTspan1131" style="font-weight: bold;">息（创建都是临时节点）</tspan></tspan></text></g></g><g id="SvgjsG1132" transform="translate(395,328)"><path id="SvgjsPath1133" d="M 0 0L 160 0L 160 59L 0 59Z" stroke="none" fill="none"></path><g id="SvgjsG1134"><text id="SvgjsText1135" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="160px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="10.875" transform="rotate(0)"><tspan id="SvgjsTspan1136" dy="16.25" x="80"><tspan id="SvgjsTspan1137" style="font-weight: bold;">2. 获取到当前在线服务器列</tspan></tspan><tspan id="SvgjsTspan1138" dy="16.25" x="80"><tspan id="SvgjsTspan1139" style="font-weight: bold;">表，并且注册监听</tspan></tspan></text></g></g><g id="SvgjsG1140" transform="translate(457.5,172)"><path id="SvgjsPath1141" d="M 0 0L 113.5 0L 113.5 27L 0 27Z" stroke="none" fill="none"></path><g id="SvgjsG1142"><text id="SvgjsText1143" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="114px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="2.875" transform="rotate(0)"><tspan id="SvgjsTspan1144" dy="16.25" x="57"><tspan id="SvgjsTspan1145" style="font-weight: bold;">3. 服务器节点下线</tspan></tspan></text></g></g><g id="SvgjsG1146" transform="translate(182,369)"><path id="SvgjsPath1147" d="M 0 0L 100 0L 100 64L 0 64Z" stroke="none" fill="none"></path><g id="SvgjsG1148"><text id="SvgjsText1149" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="100px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="13.375" transform="rotate(0)"><tspan id="SvgjsTspan1150" dy="16.25" x="50"><tspan id="SvgjsTspan1151" style="font-weight: bold;">4. 服务器节点上</tspan></tspan><tspan id="SvgjsTspan1152" dy="16.25" x="50"><tspan id="SvgjsTspan1153" style="font-weight: bold;">下线事件通知</tspan></tspan></text></g></g><g id="SvgjsG1154" transform="translate(571,273)"><path id="SvgjsPath1155" d="M 0 0L 365 0L 365 73L 0 73Z" stroke="none" fill="none"></path><g id="SvgjsG1156"><text id="SvgjsText1157" font-family="微软雅黑" text-anchor="middle" font-size="20px" width="365px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="20px" weight="400" font-style="" opacity="1" y="18.5" transform="rotate(0)"><tspan id="SvgjsTspan1158" dy="25" x="182.5"><tspan id="SvgjsTspan1159" style="font-weight: bold;fill: rgb(167, 147, 44);">Zookeeper=文件系统+通知机制</tspan></tspan></text></g></g></svg>